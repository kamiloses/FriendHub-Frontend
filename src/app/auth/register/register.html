<div class="registration-container">
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

    <div>
      <label for="firstName">First name</label>
      <input
        type="text"
        id="firstName"
        placeholder="First name"
        formControlName="firstName"
        [class.invalid]="isInvalid('firstName')"
      >
      @if (isInvalid('firstName')) {
        <div class="error-message">
          First name is required and must be 2-20 letters.
        </div>
      }
    </div>

    <div>
      <label for="lastName">Last name</label>
      <input
        type="text"
        id="lastName"
        placeholder="Last name"
        formControlName="lastName"
        [class.invalid]="isInvalid('lastName')"
      >
      @if (isInvalid('lastName')) {
        <div class="error-message">
          Last name is required and must be 2-30 letters.
        </div>
      }
    </div>

    <div>
      <label for="username">Username</label>
      <input
        type="text"
        id="username"
        placeholder="Username"
        formControlName="username"
        [class.invalid]="isInvalid('username')"
      >
      @if (isInvalid('username')) {
        <div class="error-message">
          Username is required, 5-20 chars, letters, numbers, underscores.
        </div>
      }
    </div>

    <div>
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        placeholder="Password"
        formControlName="password"
        [class.invalid]="isInvalid('password')"
      >
      @if (isInvalid('password')) {
        <div class="error-message">
          Password must be minimum 8 chars, letters and numbers.
        </div>
      }
    </div>

    <button class="button" type="submit" [disabled]="isLoading()">Register</button>

    @if (serverError()) {
      <div class="server-error">
        {{ serverError() }}
      </div>
    }

  </form>
</div>
